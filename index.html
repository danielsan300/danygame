<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>DanielSant Mining</title>
  <style>
    body { background:#000; color:#0ff; font-family:Consolas; display:flex; justify-content:center; align-items:center; height:100vh; }
    .panel { border:1px solid #0ff; padding:30px; border-radius:10px; text-align:center; width:500px; background:rgba(0,0,0,0.7); }
    .btn { border:1px solid #0ff; background:#000; color:#0ff; padding:10px 20px; border-radius:999px; cursor:pointer; }
    .btn:hover { background:#0ff; color:#000; }
    .progress { margin-top:20px; height:20px; width:100%; border:1px solid #0ff; border-radius:6px; background:#111; position:relative; }
    .bar { position:absolute; top:0; left:0; height:100%; width:0%; background:linear-gradient(to right,#0ff,#7ff); transition:width 1s linear; }
    .info { margin-top:15px; font-size:13px; }
    .admin { margin-top:20px; text-align:left; }
    table { width:100%; border-collapse:collapse; font-size:12px; }
    th, td { border:1px solid #0ff; padding:4px; }
  </style>
</head>
<body>
  <div class="panel">
    <h1>DanielSant Mining</h1>
    <button class="btn" onclick="startMining()">ðŸš€ Avvia Mining (10â‚¬)</button>
    <div class="progress"><div class="bar" id="progressBar"></div></div>
    <div class="info" id="infoText">Nessun contratto attivo.</div>
    <div class="admin" id="adminPanel"></div>
  </div>

  <script>
    const USER_ID = 294395952; // il tuo ID Telegram

    async function startMining() {
      const res = await fetch(`/api/mining/start/${USER_ID}`);
      const data = await res.json();
      if (data.ok) {
        window.open(data.pay_url, "_blank");
        document.getElementById("infoText").textContent = "Contratto attivo, in attesa pagamento...";
        setInterval(updateStatus, 3000);
      } else {
        alert("Errore generazione pagamento.");
      }
    }

    async function updateStatus() {
      const res = await fetch(`/api/mining/status/${USER_ID}`);
      const data = await res.json();
      if (data.active) {
        document.getElementById
